<ui:composition
        xmlns:ui="jakarta.faces.facelets"
        xmlns:f="jakarta.faces.core"
        template="../WEB-INF/plantilla/default.xhtml"
        xmlns:h="jakarta.faces.html"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ues="jakarta.faces.composite/ues"
        xmlns="http://www.w3.org/1999/xhtml"
>
   <ui:define name="header">
      <h1>#{defaultfrm['page.CuentaContable']}</h1>
   </ui:define>

   <ui:define name="contenido-tabla">
       <h:form id="frmCuentas">
           <ues:botones-top formulario="#{cuentaContableFrm}" actualizar=":pnlTabla :pnlDetalle"/>

           <p:dataTable id="tblCuentas" value="#{cuentaContableFrm.modelo}" var="c"
                        paginator="true" rows="10" reflow="true"
                        selectionMode="single" selection="#{cuentaContableFrm.registro}"
                        rowKey="#{c.id}">
               <p:ajax event="rowSelect" listener="#{cuentaContableFrm.seleccionarRegistro}" update=":pnlDetalle"/>

               <p:column headerText="C贸digo">
                   <h:outputText value="#{c.codigo}"/>
               </p:column>
               <p:column headerText="Nombre">
                   <h:outputText value="#{c.nombre}"/>
               </p:column>
               <p:column headerText="Tipo de cuenta">
                   <h:outputText value="#{c.idTipoCuenta != null ? c.idTipoCuenta.nombre : ''}"/>
               </p:column>
               <p:column headerText="Subtipo de cuenta">
                   <h:outputText value="#{c.idSubTipoCuenta != null ? c.idSubTipoCuenta.nombre : ''}"/>
               </p:column>
               <p:column headerText="Descripci贸n">
                   <h:outputText value="#{c.descripcion}"/>
               </p:column>
               <p:column headerText="Cuenta padre">
                   <h:outputText value="#{c.cuentaPadre != null ? c.cuentaPadre.codigo : ''}"/>
               </p:column>
           </p:dataTable>
       </h:form>
   </ui:define>

   <ui:define name="contenido-detalle">
       <h:form id="frmDetalleCuenta">
           <h:panelGrid columns="2" rendered="#{cuentaContableFrm.registro != null}">
               <h:outputLabel value="C贸digo" for="codigo"/>
               <p:inputText id="codigo" value="#{cuentaContableFrm.registro.codigo}"/>

               <h:outputLabel value="Nombre" for="nombre"/>
               <p:inputText id="nombre" value="#{cuentaContableFrm.registro.nombre}"/>

               <h:outputLabel value="Descripci贸n" for="descripcion"/>
               <p:inputTextarea id="descripcion" value="#{cuentaContableFrm.registro.descripcion}" rows="3" cols="40"/>
           </h:panelGrid>

           <ues:botones-crud formulario="#{cuentaContableFrm}" actualizar=":pnlTabla :pnlDetalle"/>
       </h:form>
   </ui:define>

</ui:composition>
